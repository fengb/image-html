/*! image-html.all v0.3.1 - https://github.com/fengb/image-html */
!function r(t,n,e){function s(a,i){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!i&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(r){var n=t[a][1][r];return s(n?n:r)},f,f.exports,r,t,n,e)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<e.length;a++)s(e[a]);return s}({1:[function(r){window.ImageHtml=r("./src/image-html")},{"./src/image-html":8}],2:[function(r,t){t.exports=function(r,t){var n=document.createElement("canvas");return n.width=r||300,n.height=t||150,n}},{}],3:[function(r,t){function n(r){var t=r.toString(16);return 1==t.length?"0"+t:t}var e=r("./util"),s=t.exports=function(r,t,n,e){this.r=r,this.g=t,this.b=n,this.a=e};s.prototype.equals=function(r){return this.constructor===(r&&r.constructor)&&this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a},s.prototype.rgb=function(){return[this.r,this.g,this.b]},s.prototype.rgba=function(){return[this.r,this.g,this.b,this.a]},s.prototype.css=function(){switch(this.a){case 1:return"#"+this.hex();case 0:return"transparent";default:return e.format("rgba({0},{1},{2},{3})",this.r,this.g,this.b,e.round(this.a,3))}},s.prototype.hex=function(){return n(this.r)+n(this.g)+n(this.b)},s.rgb=function(r,t,n){return new s(r,t,n,1)},s.rgba=function(r,t,n,e){return new s(r,t,n,e)},s.hex=function(r){return s.rgb(parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16))}},{"./util":11}],4:[function(r,t){var n=r("../util.js").format;t.exports=function(r,t){return{css:function(){return n("#{0} { width: {1}px; margin: 0; overflow: hidden }\n#{0} i { float: left; width: 1px; height: 1px; }",t,r.cols)},html:function(){for(var e=n('<p id="{0}"\n>',t),s=0;s<r.rows;s++)for(var o=0;o<r.cols;o++)e+=n('<i style="background: {0}"></i\n>',r[s][o].css());return e+"</p>"}}}},{"../util.js":11}],5:[function(r,t){var n=r("../util.js").format,e=r("../pixel-segments.js");t.exports=function(r,t){var s=e(r);return{css:function(){return n("#{0} { width: {1}px; margin: 0; overflow: hidden }\n#{0} i { float: left; width: 1px; height: 1px; }",t,r.cols)},html:function(){for(var r=n('<p id="{0}"\n>',t),e=0;e<s.length;e++)for(var o=0;o<s[e].length;o++){var a=s[e][o];r+=a.length>1?n('<i style="background: {0}; width: {1}px"></i\n>',a.value.css(),a.length):n('<i style="background: #{0}"></i\n>',a.value.hex())}return r+"</p>"}}}},{"../pixel-segments.js":9,"../util.js":11}],6:[function(r,t){function n(r){var t=[];for(var n in r)t.push(e.format("{0}: {1}",n,r[n]));return t}var e=r("../util"),s=r("../pixel-segments.js");t.exports=function(r,t){for(var n=s(r),a=[],i=0;i<n.length;i++)a.push.apply(a,n[i]);for(var u=[],f=0;f<a.length;f++){var l=a[f];l.styles={background:l.value.css(),width:l.length+"px"},u.push(l.styles)}var c=new o(u);return{css:function(){return e.format("#{0} { width: {1}px; margin: 0; overflow: hidden; }\n#{0} i { float: left; height: 1px; }\n",t,r.cols)+c.classes("#"+t).join("\n")},html:function(){for(var r=e.format('<p id="{0}"\n>',t),n=0;n<a.length;n++){var s=a[n];r+=e.format("<i {0}></i\n>",c.attrsFor(s.styles))}return r+"</p>"}}};var o=t.exports.CssClasser=function(r){var t=[];r.forEach(function(r){t.push.apply(t,n(r))});var s=e.counter(t),o=e.endlessGenerator("abcdefghijklmnopqrstuvwxyz"),a=s.sortByMostFrequent();this._classes={};for(var i=0;i<a.length;i++){var u=a[i][0],f=a[i][1];f>1&&(this._classes[u]=o())}};o.prototype.classes=function(r){var t=[];for(var n in this._classes)t.push(e.format("{0} .{1} { {2} }",r,this._classes[n],n));return t},o.prototype.attrsFor=function(r){r=n(r);for(var t=[],s=[],o=0;o<r.length;o++){var a=r[o];this._classes[a]?t.push(this._classes[a]):s.push(a)}var i=[];return t.length>0&&i.push(e.format('class="{0}"',t.join(" "))),s.length>0&&i.push(e.format('style="{0}"',s.join("; "))),i.join(" ")}},{"../pixel-segments.js":9,"../util":11}],7:[function(r,t){function n(r,t){for(var n in r)if(e.arrayEquals(r[n],t))return{tag:n,unmatchedStyles:[]};for(var s in r)for(var o=0;o<t.length;o++){var a=r[s];if(s.length<3&&-1!=r[s].indexOf(t[o]))return{tag:s,unmatchedStyles:e.arrayDiff(t,a||[])}}return{tag:null,unmatchedStyles:t}}var e=r("../util"),s=r("../pixel-segments.js");t.exports=function(r,t){for(var n=s(r),o=[],i=0;i<n.length;i++)o.push.apply(o,n[i]);for(var u=[],f=0;f<o.length;f++){var l=o[f];l.styles=[e.format("background: {0}",l.value.css()),e.format("width: {0}px",l.length)],u.push(l.styles)}var c=a.fromStylesElements(u);return{css:function(){return e.format('#{0} { width: {1}px; margin: 0; overflow: hidden }\n#{0} * { float: left; height: 1px; vertical-align: baseline; margin: 0; padding: 0; border-collapse: collapse }\n#{0} *:before { content: "" }\n#{0} *:after { content: "" }\n',t,r.cols)+c.styles("#"+t).join("\n")},html:function(){return e.format('<div id="{0}"\n>{1}</div>',t,o.map(function(r){return c.elementFor(r.styles)}).join(""))}}};var o=t.exports.Aggregator=function(r){var t=function(){var t=e.counter();r.forEach(function(r){t.add(r.join(";"))});for(var n=t.sortByMostFrequent(),s=e.generator(["i","b","a","p","q","u","s","em","h1","h2","h3","h4","h5","h6","ol","ul","dl","dfn","kbd","var","ins","del","sup","sub","nav","pre","div","bdi","span","samp","code","abbr","form","cite","mark","menu","small","aside","table"]),o={},a=0;a<n.length;a++){var i=n[a][0],u=n[a][1],f=s();if(1>=u||null===f)break;o[f]=i.split(";")}return o}();return{tags:t,classes:function(){var s=e.counter();r.forEach(function(r){for(var e=n(t,r).unmatchedStyles,o=0;o<e.length;o++)s.add(e[o])});for(var o=e.endlessGenerator("abcdefghijklmnopqrstuvwxyz"),a=s.sortByMostFrequent(),i={},u=0;u<a.length;u++){var f=a[u][0],l=a[u][1];if(1>=l)break;i[f]=o()}return i}()}},a=t.exports.Formatter=function(r){var t={defaultTag:function(){var t;for(var n in r.tags)(!t||n.length<t.length)&&(t=n);return t}(),styles:function(t){var n=[];for(var s in r.tags)n.push(e.format("{0} {1} { {2} }",t,s,r.tags[s].join("; ")));for(var o in r.classes)n.push(e.format("{0} .{1} { {2} }",t,r.classes[o],o));return n},valuesFor:function(e){for(var s=n(r.tags,e),o=s.tag||t.defaultTag,a=[],i=[],u=0;u<s.unmatchedStyles.length;u++){var f=s.unmatchedStyles[u];r.classes[f]?a.push(r.classes[f]):i.push(f)}return{tag:o,classes:a.join(" "),styles:i.join("; ")}},elementFor:function(r){var n=t.valuesFor(r),s="";return n.classes&&(s+=e.format(' class="{0}"',n.classes)),n.styles&&(s+=e.format(' style="{0}"',n.styles)),e.format("<{0}{1}></{0}\n>",n.tag,s)}};return t};a.fromStylesElements=function(r){var t=o(r);return a(t)}},{"../pixel-segments.js":9,"../util":11}],8:[function(r,t){var n=r("./pixels"),e={"01":r("./formats/01"),"02":r("./formats/02"),"03":r("./formats/03"),"04":r("./formats/04")};t.exports={formats:function(){return Object.keys(e)},convert:function(r,t,s){s=s||"04";var o=n.fromImage(r);return e[s](o,t)}}},{"./formats/01":4,"./formats/02":5,"./formats/03":6,"./formats/04":7,"./pixels":10}],9:[function(r,t){t.exports=function(r){for(var t=[],n=0;n<r.rows;n++){t[n]=[];for(var e={value:null},s=0;s<r.cols;s++)r[n][s].equals(e.value)?e.length++:(e={length:1,value:r[n][s]},t[n].push(e))}return t}},{}],10:[function(r,t){var n=r("./color"),e=r("canvas-browserify"),s=t.exports=function(r){this.rows=r.length,this.cols=r[0].length;for(var t=0;t<this.rows;t++)this[t]=r[t]};s.fromImage=function(r){var t=new e(r.width,r.height),o=t.getContext("2d");o.drawImage(r,0,0);for(var a=o.getImageData(0,0,r.width,r.height).data,i=[],u=0;u<r.height;u++){i[u]=[];for(var f=0;f<r.width;f++){var l=4*(u*r.width+f),c=a[l],h=a[l+1],g=a[l+2],v=a[l+3]/255;i[u][f]=n.rgba(c,h,g,v)}}return new s(i)}},{"./color":3,"canvas-browserify":2}],11:[function(r,t){var n=t.exports={format:function(){for(var r=[],t=0;10>t;t++)r[t]=new RegExp("\\{"+t+"\\}","gm");return function(){for(var t=arguments[0],n=1;n<arguments.length;n++)t=t.replace(r[n-1],arguments[n]);return t}}(),round:function(r,t){var n=t?Math.pow(10,t):1;return Math.round(r*n)/n},counter:function(r){function t(r){e[r]=(e[r]||0)+1}var e={};if(r)for(var s=0;s<r.length;s++)t(r[s]);return{count:e,add:t,sortByMostFrequent:function(){return n.objToArray(this.count).sort(function(r,t){return r[1]<t[1]?1:r[1]>t[1]?-1:0})}}},objToArray:function(r){var t=[];for(var n in r)t.push([n,r[n]]);return t},memoize:function(r){var t={};return function(){var n=[].join.apply(arguments);return t[n]||(t[n]=r.apply(this,arguments)),t[n]}},arrayEquals:function(r,t){if(r===t)return!0;if(!r||!t)return!1;if(r.length!=t.length)return!1;for(var n=0;n<t.length;++n)if(r[n]!==t[n])return!1;return!0},arrayDiff:function(r,t){for(var n=[],e=0;e<r.length;e++){var s=t.indexOf(r[e]);-1===s&&n.push(r[e])}return n},generator:function(r){var t=0;return function(){return t<r.length?r[t++]:null}},endlessGenerator:function(r){var t=[];return function(){for(var n=0;;){if(n>=t.length){t.push(0);break}if(++t[n]<r.length)break;t[n++]=0}return t.map(function(t){return r[t]}).join("")}}}},{}]},{},[1]);
