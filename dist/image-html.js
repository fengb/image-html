/*! image-html v0.3.1 - https://github.com/fengb/image-html */
!function r(t,n,e){function a(s,u){if(!n[s]){if(!t[s]){var i="function"==typeof require&&require;if(!u&&i)return i(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(r){var n=t[s][1][r];return a(n?n:r)},f,f.exports,r,t,n,e)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)a(e[s]);return a}({1:[function(r){window.ImageHtml=r("./src/image-html.min")},{"./src/image-html.min":5}],2:[function(r,t){t.exports=function(r,t){var n=document.createElement("canvas");return n.width=r||300,n.height=t||150,n}},{}],3:[function(r,t){function n(r){var t=r.toString(16);return 1==t.length?"0"+t:t}var e=r("./util"),a=t.exports=function(r,t,n,e){this.r=r,this.g=t,this.b=n,this.a=e};a.prototype.equals=function(r){return this.constructor===(r&&r.constructor)&&this.r===r.r&&this.g===r.g&&this.b===r.b&&this.a===r.a},a.prototype.rgb=function(){return[this.r,this.g,this.b]},a.prototype.rgba=function(){return[this.r,this.g,this.b,this.a]},a.prototype.css=function(){switch(this.a){case 1:return"#"+this.hex();case 0:return"transparent";default:return e.format("rgba({0},{1},{2},{3})",this.r,this.g,this.b,e.round(this.a,3))}},a.prototype.hex=function(){return n(this.r)+n(this.g)+n(this.b)},a.rgb=function(r,t,n){return new a(r,t,n,1)},a.rgba=function(r,t,n,e){return new a(r,t,n,e)},a.hex=function(r){return a.rgb(parseInt(r.substring(0,2),16),parseInt(r.substring(2,4),16),parseInt(r.substring(4,6),16))}},{"./util":8}],4:[function(r,t){function n(r,t){for(var n in r)if(e.arrayEquals(r[n],t))return{tag:n,unmatchedStyles:[]};for(var a in r)for(var o=0;o<t.length;o++){var s=r[a];if(a.length<3&&-1!=r[a].indexOf(t[o]))return{tag:a,unmatchedStyles:e.arrayDiff(t,s||[])}}return{tag:null,unmatchedStyles:t}}var e=r("../util"),a=r("../pixel-segments.js");t.exports=function(r,t){for(var n=a(r),o=[],u=0;u<n.length;u++)o.push.apply(o,n[u]);for(var i=[],f=0;f<o.length;f++){var l=o[f];l.styles=[e.format("background: {0}",l.value.css()),e.format("width: {0}px",l.length)],i.push(l.styles)}var c=s.fromStylesElements(i);return{css:function(){return e.format('#{0} { width: {1}px; margin: 0; overflow: hidden }\n#{0} * { float: left; height: 1px; vertical-align: baseline; margin: 0; padding: 0; border-collapse: collapse }\n#{0} *:before { content: "" }\n#{0} *:after { content: "" }\n',t,r.cols)+c.styles("#"+t).join("\n")},html:function(){return e.format('<div id="{0}"\n>{1}</div>',t,o.map(function(r){return c.elementFor(r.styles)}).join(""))}}};var o=t.exports.Aggregator=function(r){var t=function(){var t=e.counter();r.forEach(function(r){t.add(r.join(";"))});for(var n=t.sortByMostFrequent(),a=e.generator(["i","b","a","p","q","u","s","em","h1","h2","h3","h4","h5","h6","ol","ul","dl","dfn","kbd","var","ins","del","sup","sub","nav","pre","div","bdi","span","samp","code","abbr","form","cite","mark","menu","small","aside","table"]),o={},s=0;s<n.length;s++){var u=n[s][0],i=n[s][1],f=a();if(1>=i||null===f)break;o[f]=u.split(";")}return o}();return{tags:t,classes:function(){var a=e.counter();r.forEach(function(r){for(var e=n(t,r).unmatchedStyles,o=0;o<e.length;o++)a.add(e[o])});for(var o=e.endlessGenerator("abcdefghijklmnopqrstuvwxyz"),s=a.sortByMostFrequent(),u={},i=0;i<s.length;i++){var f=s[i][0],l=s[i][1];if(1>=l)break;u[f]=o()}return u}()}},s=t.exports.Formatter=function(r){var t={defaultTag:function(){var t;for(var n in r.tags)(!t||n.length<t.length)&&(t=n);return t}(),styles:function(t){var n=[];for(var a in r.tags)n.push(e.format("{0} {1} { {2} }",t,a,r.tags[a].join("; ")));for(var o in r.classes)n.push(e.format("{0} .{1} { {2} }",t,r.classes[o],o));return n},valuesFor:function(e){for(var a=n(r.tags,e),o=a.tag||t.defaultTag,s=[],u=[],i=0;i<a.unmatchedStyles.length;i++){var f=a.unmatchedStyles[i];r.classes[f]?s.push(r.classes[f]):u.push(f)}return{tag:o,classes:s.join(" "),styles:u.join("; ")}},elementFor:function(r){var n=t.valuesFor(r),a="";return n.classes&&(a+=e.format(' class="{0}"',n.classes)),n.styles&&(a+=e.format(' style="{0}"',n.styles)),e.format("<{0}{1}></{0}\n>",n.tag,a)}};return t};s.fromStylesElements=function(r){var t=o(r);return s(t)}},{"../pixel-segments.js":6,"../util":8}],5:[function(r,t){var n=r("./pixels");r("./formats/04"),t.exports={formats:function(){return["04"]},convert:function(r,t,e){var a=n.fromImage(r);return e(a,t)}}},{"./formats/04":4,"./pixels":7}],6:[function(r,t){t.exports=function(r){for(var t=[],n=0;n<r.rows;n++){t[n]=[];for(var e={value:null},a=0;a<r.cols;a++)r[n][a].equals(e.value)?e.length++:(e={length:1,value:r[n][a]},t[n].push(e))}return t}},{}],7:[function(r,t){var n=r("./color"),e=r("canvas-browserify"),a=t.exports=function(r){this.rows=r.length,this.cols=r[0].length;for(var t=0;t<this.rows;t++)this[t]=r[t]};a.fromImage=function(r){var t=new e(r.width,r.height),o=t.getContext("2d");o.drawImage(r,0,0);for(var s=o.getImageData(0,0,r.width,r.height).data,u=[],i=0;i<r.height;i++){u[i]=[];for(var f=0;f<r.width;f++){var l=4*(i*r.width+f),c=s[l],h=s[l+1],g=s[l+2],v=s[l+3]/255;u[i][f]=n.rgba(c,h,g,v)}}return new a(u)}},{"./color":3,"canvas-browserify":2}],8:[function(r,t){var n=t.exports={format:function(){for(var r=[],t=0;10>t;t++)r[t]=new RegExp("\\{"+t+"\\}","gm");return function(){for(var t=arguments[0],n=1;n<arguments.length;n++)t=t.replace(r[n-1],arguments[n]);return t}}(),round:function(r,t){var n=t?Math.pow(10,t):1;return Math.round(r*n)/n},counter:function(r){function t(r){e[r]=(e[r]||0)+1}var e={};if(r)for(var a=0;a<r.length;a++)t(r[a]);return{count:e,add:t,sortByMostFrequent:function(){return n.objToArray(this.count).sort(function(r,t){return r[1]<t[1]?1:r[1]>t[1]?-1:0})}}},objToArray:function(r){var t=[];for(var n in r)t.push([n,r[n]]);return t},memoize:function(r){var t={};return function(){var n=[].join.apply(arguments);return t[n]||(t[n]=r.apply(this,arguments)),t[n]}},arrayEquals:function(r,t){if(r===t)return!0;if(!r||!t)return!1;if(r.length!=t.length)return!1;for(var n=0;n<t.length;++n)if(r[n]!==t[n])return!1;return!0},arrayDiff:function(r,t){for(var n=[],e=0;e<r.length;e++){var a=t.indexOf(r[e]);-1===a&&n.push(r[e])}return n},generator:function(r){var t=0;return function(){return t<r.length?r[t++]:null}},endlessGenerator:function(r){var t=[];return function(){for(var n=0;;){if(n>=t.length){t.push(0);break}if(++t[n]<r.length)break;t[n++]=0}return t.map(function(t){return r[t]}).join("")}}}},{}]},{},[1]);